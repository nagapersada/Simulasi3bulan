<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DVTEAM PROFESSIONAL</title>
    <style>
        :root {
            --gold: #d4af37;
            --gold-dark: #b5952f;
            --bg-body: #050505;
            --bg-card: #141414;
            --text-main: #ffffff;
            --text-dim: #888888;
            --green: #00e676;
            --red: #ff5252;
            --blue: #2979ff;
        }

        * { box-sizing: border-box; outline: none; }

        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* HEADER */
        header {
            background: #000;
            border-bottom: 1px solid var(--gold);
            padding: 12px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 60px;
            flex-shrink: 0;
            z-index: 10;
        }
        .brand { font-size: 1.1rem; font-weight: 900; color: var(--gold); letter-spacing: 1.5px; text-transform: uppercase; }
        .brand span { color: #fff; font-weight: 300; }
        .kurs-input { background: #222; border: 1px solid #444; color: #ccc; padding: 5px; width: 70px; text-align: right; border-radius: 4px; font-size: 0.8rem; }

        /* MAIN LAYOUT */
        .main-container {
            display: flex;
            flex: 1;
            height: calc(100vh - 60px);
            flex-direction: column; /* Default Mobile */
        }

        /* CONTROL PANEL (TOP/LEFT) */
        .control-panel {
            padding: 15px;
            background: var(--bg-card);
            border-bottom: 1px solid #333;
            display: flex;
            flex-direction: column;
            gap: 15px;
            flex-shrink: 0;
        }

        .stats-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .stat-box {
            background: #1e1e1e;
            padding: 10px 12px;
            border-radius: 6px;
            border: 1px solid #333;
        }
        .stat-label { font-size: 0.7rem; color: var(--text-dim); text-transform: uppercase; margin-bottom: 4px; }
        .stat-val { font-size: 1.1rem; font-weight: bold; color: #fff; }
        .stat-sub { font-size: 0.75rem; color: var(--green); margin-top: 2px; }
        .txt-gold { color: var(--gold) !important; }

        /* BUTTONS */
        .btn-main {
            width: 100%;
            background: linear-gradient(135deg, var(--gold), var(--gold-dark));
            color: #000;
            border: none;
            padding: 14px;
            border-radius: 6px;
            font-weight: 800;
            font-size: 0.95rem;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(212, 175, 55, 0.2);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: 0.2s;
        }
        .btn-main:active { transform: scale(0.98); }

        /* PROJECTION SECTION (HIDDEN BY DEFAULT) */
        #projectionPanel {
            display: none; /* Hidden initially */
            background: #111;
            border: 1px solid var(--gold);
            border-radius: 8px;
            padding: 15px;
            animation: fadeIn 0.5s;
        }

        .proj-inputs {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
            font-size: 0.9rem;
            color: #ccc;
        }
        .inp-days {
            background: #222; border: 1px solid #555; color: white; 
            padding: 8px; width: 60px; text-align: center; border-radius: 4px; font-weight: bold;
        }

        /* FINAL RESULT CARD (SIDE BY SIDE) */
        .final-card {
            display: grid;
            grid-template-columns: 1fr 1fr; /* SIDE BY SIDE */
            gap: 1px;
            background: var(--gold); /* Border color effect */
            border-radius: 6px;
            overflow: hidden;
            margin-top: 15px;
        }
        .final-col {
            background: #0f0f0f; /* Inner BG */
            padding: 15px 10px;
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        .final-label { font-size: 0.7rem; color: #888; margin-bottom: 5px; text-transform: uppercase; }
        .final-val-usdt { font-size: 1.3rem; font-weight: bold; color: var(--gold); }
        .final-val-idr { font-size: 1.1rem; font-weight: bold; color: var(--green); }

        /* LOG TABLE (BOTTOM/RIGHT) */
        .log-container {
            flex: 1;
            overflow-y: auto;
            background: var(--bg-body);
            position: relative;
        }
        table { width: 100%; border-collapse: collapse; font-size: 0.85rem; }
        th { 
            position: sticky; top: 0; background: #1a1a1a; color: var(--gold); 
            padding: 12px 10px; text-align: left; font-size: 0.7rem; letter-spacing: 1px;
            border-bottom: 1px solid #333; z-index: 5;
        }
        td { padding: 10px; border-bottom: 1px solid #222; color: #ddd; vertical-align: middle; }
        .row-new { animation: flash 1s; background: rgba(212, 175, 55, 0.05); }

        /* UTILS */
        .badge { display: inline-block; padding: 2px 5px; border-radius: 3px; font-size: 0.65rem; font-weight: bold; margin-right: 5px; }
        .bg-gold { background: var(--gold); color: #000; }
        .bg-blue { background: var(--blue); color: #fff; }
        .bg-red { background: rgba(255, 82, 82, 0.2); color: var(--red); border: 1px solid var(--red); }
        .txt-green { color: var(--green); }
        .txt-red { color: var(--red); }

        @keyframes fadeIn { from { opacity:0; transform:translateY(10px); } to { opacity:1; transform:translateY(0); } }
        @keyframes flash { 0% { background: var(--gold); color:black; } 100% { background: transparent; } }

        /* LANDSCAPE MODE */
        @media (min-width: 768px) and (orientation: landscape) {
            .main-container { flex-direction: row; }
            .control-panel { width: 380px; height: 100%; border-right: 1px solid #333; border-bottom: none; overflow-y: auto; }
            .log-container { flex: 1; }
        }
    </style>
</head>
<body>

    <header>
        <div class="brand">DVTEAM <span>PRO</span></div>
        <div>
            <span style="font-size:0.7rem; color:#666; margin-right:5px;">KURS IDR</span>
            <input type="number" id="inpKurs" value="15500" class="kurs-input" onchange="updateUI()">
        </div>
    </header>

    <div class="main-container">
        <div class="control-panel">
            <div class="stats-row">
                <div class="stat-box">
                    <div class="stat-label">Saldo Akun</div>
                    <div class="stat-val txt-gold" id="dispBalance">100.00</div>
                    <div class="stat-sub" id="dispIdr">Rp 1.550.000</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label">Progress</div>
                    <div class="stat-val"><span id="dispDay">0</span> <span style="font-size:0.7em; color:#666">/ 30 Hari</span></div>
                    <div style="width:100%; height:3px; background:#333; margin-top:8px; border-radius:2px;">
                        <div id="progBar" style="width:0%; height:100%; background:var(--green); transition:0.3s;"></div>
                    </div>
                </div>
            </div>
            
            <div class="stats-row">
                <div class="stat-box">
                    <div class="stat-label">Sinyal / Hari</div>
                    <div class="stat-val" id="dispSignal">2</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label">Status Tim</div>
                    <div class="stat-val" style="font-size:0.9rem;" id="dispTeam">Member: 0</div>
                </div>
            </div>

            <div id="phase1Controls">
                <div style="font-size:0.8rem; color:#bbb; margin-bottom:10px; text-align:center; min-height:20px;" id="missionText">
                    Mulai perjalanan trading Anda.
                </div>
                <button class="btn-main" id="btnNext" onclick="nextDay()">JALANKAN MISI HARI 1</button>
            </div>

            <div id="projectionPanel">
                <div style="color:var(--gold); font-weight:bold; margin-bottom:10px; text-align:center;">
                    VIP 2 TERCAPAI - MODE PROYEKSI
                </div>
                
                <div class="proj-inputs">
                    <span>Tambah Durasi (Hari):</span>
                    <input type="number" id="inpExtraDays" value="32" class="inp-days">
                </div>
                <div style="font-size:0.7rem; color:#666; margin-bottom:10px; text-align:center;">
                    (Trading dengan 3 Sinyal Permanen)
                </div>

                <button class="btn-main" onclick="calculateProjection()">HITUNG HASIL AKHIR</button>

                <div class="final-card" id="resultCard" style="display:none;">
                    <div class="final-col">
                        <div class="final-label">Saldo Akhir (USDT)</div>
                        <div class="final-val-usdt" id="resFinalUSDT">0.00</div>
                    </div>
                    <div class="final-col">
                        <div class="final-label">Net Profit (IDR)</div>
                        <div class="final-val-idr" id="resNetProfit">Rp 0</div>
                    </div>
                </div>
                
                <div id="resetBtn" style="text-align:center; margin-top:15px; display:none;">
                     <button onclick="location.reload()" style="background:none; border:none; color:#666; cursor:pointer; font-size:0.8rem;">Reset Simulasi</button>
                </div>
            </div>
        </div>

        <div class="log-container">
            <table>
                <thead>
                    <tr>
                        <th width="10%">HARI</th>
                        <th width="50%">AKTIVITAS</th>
                        <th width="10%" style="text-align:center">SIG</th>
                        <th width="30%" style="text-align:right">SALDO</th>
                    </tr>
                </thead>
                <tbody id="logTable">
                    </tbody>
            </table>
        </div>
    </div>

<script>
    // --- SETTINGS ---
    const CONFIG = {
        startBalance: 100,
        profitRate: 0.0085, // 0.85%
        maxDays: 30
    };

    // --- STATE ---
    let state = {
        day: 0,
        balance: 100,
        signals: 2,
        team: 0,
        rank: "Member"
    };

    // --- EVENTS SCENARIO ---
    const EVENTS = {
        5:  { txt: "Naik VIP 1", bonus: 70, tag: "VIP1", setSig: 3 },
        10: { txt: "Bantu Si A", bonus: 0, tag: "TEAM", setSig: 3 },
        15: { txt: "Bantu Si B", bonus: 0, tag: "TEAM", setSig: 3 },
        16: { txt: "Benefit Habis", bonus: 0, tag: "WARN", setSig: 2, note: "Turun ke 2 Sinyal" },
        20: { txt: "Bantu Si C", bonus: 0, tag: "TEAM", setSig: 3, note: "Sinyal 3 Aktif Lagi" },
        25: { txt: "Bantu Si D", bonus: 0, tag: "TEAM", setSig: 3 },
        30: { txt: "Naik VIP 2", bonus: 100, tag: "VIP2", setSig: 3, note: "3 Sinyal PERMANEN" }
    };

    // --- UTILS ---
    function formatMoney(n, c="USDT") {
        if(c==="IDR") return "Rp " + n.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ".");
        return parseFloat(n).toFixed(2);
    }

    function updateUI() {
        const kurs = document.getElementById('inpKurs').value;
        
        // Stats
        document.getElementById('dispBalance').innerText = formatMoney(state.balance);
        document.getElementById('dispIdr').innerText = formatMoney(state.balance * kurs, "IDR");
        document.getElementById('dispDay').innerText = state.day;
        document.getElementById('dispSignal').innerText = state.signals;
        document.getElementById('dispTeam').innerText = `Member: ${state.team} | ${state.rank}`;
        
        // Progress
        const pct = (state.day / CONFIG.maxDays) * 100;
        document.getElementById('progBar').style.width = pct + "%";

        // Check End Phase
        if(state.day >= CONFIG.maxDays) {
            document.getElementById('phase1Controls').style.display = 'none';
            document.getElementById('projectionPanel').style.display = 'block';
        } else {
            // Button Text
            document.getElementById('btnNext').innerText = `JALANKAN HARI ${state.day + 1}`;
            
            // Hint Text
            let next = EVENTS[state.day + 1];
            if(next && next.tag === "WARN") {
                document.getElementById('missionText').innerHTML = "<span style='color:var(--red)'>âš  PERINGATAN: Benefit Besok Habis!</span>";
            } else if (state.day === 0) {
                document.getElementById('missionText').innerText = "Mulai membangun jaringan.";
            } else {
                document.getElementById('missionText').innerText = `Trading ${state.signals} Sinyal & Bina Tim`;
            }
        }
    }

    function nextDay() {
        if(state.day >= CONFIG.maxDays) return;

        state.day++;
        
        // 1. Process Logic
        let evt = EVENTS[state.day];
        let desc = "Ajak 1 Orang";
        let bonus = 0;
        let badges = "";

        // Team Logic
        if(state.day <= 5) state.team++;
        else if(state.day % 5 === 0) state.team += 5;
        else state.team++;

        // Rank Logic
        if(state.day === 5) state.rank = "VIP 1";
        if(state.day === 30) state.rank = "VIP 2";

        if(evt) {
            desc = evt.txt;
            if(evt.bonus) bonus = evt.bonus;
            if(evt.setSig === 2) state.signals = 2; // Downgrade immediate
            
            let color = "bg-blue";
            if(evt.tag === "VIP1" || evt.tag === "VIP2") color = "bg-gold";
            if(evt.tag === "WARN") color = "bg-red";
            badges = `<span class="badge ${color}">${evt.tag}</span>`;
        }

        // 2. Calculation (Compound per Signal)
        let startBal = state.balance;
        for(let i=0; i<state.signals; i++) {
            state.balance = state.balance * (1 + CONFIG.profitRate);
        }
        
        // 3. Add Bonus
        state.balance += bonus;
        let profitDaily = state.balance - startBal;

        // 4. Log
        const tbody = document.getElementById('logTable');
        const row = document.createElement('tr');
        row.className = 'row-new';
        row.innerHTML = `
            <td style="color:var(--gold); font-weight:bold;">${state.day}</td>
            <td>
                ${badges} <span style="font-weight:600; font-size:0.9rem;">${desc}</span><br>
                <small style="color:#666">${evt?.note || "Profit: +" + formatMoney(profitDaily)}</small>
            </td>
            <td style="text-align:center">
                ${state.signals === 3 ? '<span class="txt-green">3x</span>' : '<span class="txt-red">2x</span>'}
            </td>
            <td style="text-align:right">
                <div style="font-weight:bold; color:#fff">${formatMoney(state.balance)}</div>
                ${bonus ? `<span style="font-size:0.7em; color:var(--gold)">+${bonus} Bonus</span>` : ''}
            </td>
        `;
        tbody.insertBefore(row, tbody.firstChild);

        // 5. Upgrade Signal for Next Day
        if(evt && evt.setSig === 3) state.signals = 3;

        updateUI();
    }

    function calculateProjection() {
        const extraDays = parseFloat(document.getElementById('inpExtraDays').value);
        const kurs = document.getElementById('inpKurs').value;
        
        let finalBal = state.balance;
        let totalSignals = extraDays * 3; // Permanen 3 signals

        // Compound Formula
        finalBal = finalBal * Math.pow((1 + CONFIG.profitRate), totalSignals);

        // Net Profit Calculation (Final - Modal Awal 100)
        let netProfitUSDT = finalBal - CONFIG.startBalance;
        let netProfitIDR = netProfitUSDT * kurs;

        // Render Result Side-by-Side
        document.getElementById('resFinalUSDT').innerText = formatMoney(finalBal);
        document.getElementById('resNetProfit').innerText = formatMoney(netProfitIDR, "IDR");
        
        document.getElementById('resultCard').style.display = 'grid'; // Show Grid
        document.getElementById('resetBtn').style.display = 'block';
    }

    // Init
    updateUI();

</script>
</body>
</html>
