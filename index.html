<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DVTEAM PROFESSIONAL ROADMAP</title>
    <style>
        :root {
            --gold: #d4af37;
            --gold-dim: #8a701f;
            --bg-dark: #0f0f0f;
            --bg-card: #1a1a1a;
            --text-main: #ffffff;
            --text-muted: #a0a0a0;
            --green: #00e676;
            --red: #ff5252;
            --blue: #2979ff;
        }

        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-main);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        .container {
            width: 100%;
            max-width: 1000px;
            display: grid;
            gap: 20px;
        }

        /* HEADER */
        header {
            text-align: center;
            margin-bottom: 20px;
            border-bottom: 2px solid var(--gold);
            padding-bottom: 20px;
        }
        
        .logo { font-size: 2rem; font-weight: 800; color: var(--gold); letter-spacing: 3px; text-transform: uppercase; }
        .sub-logo { color: var(--text-muted); font-size: 0.9rem; letter-spacing: 1px; margin-top: 5px; }

        /* DASHBOARD STATS */
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 15px;
        }

        .stat-card {
            background: var(--bg-card);
            padding: 20px;
            border-radius: 12px;
            border: 1px solid #333;
            text-align: center;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .stat-card:hover { transform: translateY(-3px); border-color: var(--gold-dim); }
        .stat-card::before { content:''; position: absolute; top:0; left:0; width: 4px; height: 100%; background: var(--gold); }
        
        .stat-label { font-size: 0.85rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 1px; }
        .stat-value { font-size: 1.8rem; font-weight: bold; margin-top: 10px; }
        .stat-sub { font-size: 0.8rem; color: var(--green); margin-top: 5px; }

        /* MAIN ACTION AREA */
        .action-area {
            background: linear-gradient(145deg, #222, #1a1a1a);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            border: 1px solid #444;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        .progress-container {
            width: 100%;
            background: #333;
            height: 10px;
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }
        .progress-bar {
            height: 100%;
            background: var(--gold);
            width: 0%;
            transition: width 0.5s ease;
        }

        #actionBtn {
            background: var(--gold);
            color: #000;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 0 15px rgba(212, 175, 55, 0.4);
            transition: 0.2s;
            text-transform: uppercase;
        }
        #actionBtn:hover { transform: scale(1.05); background: #fff; }
        #actionBtn:disabled { background: #555; color: #888; cursor: not-allowed; transform: none; box-shadow: none; }

        .log-display {
            margin-top: 20px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-muted);
            font-style: italic;
        }

        /* LOG TABLE */
        .history-box {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 20px;
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid #333;
        }
        .history-box h3 { color: var(--gold); margin-top: 0; font-size: 1rem; border-bottom: 1px solid #444; padding-bottom: 10px; }
        
        table { width: 100%; border-collapse: collapse; font-size: 0.9rem; }
        th { text-align: left; color: #888; padding: 10px; border-bottom: 1px solid #444; }
        td { padding: 10px; border-bottom: 1px solid #333; color: #ddd; }
        .row-highlight { background: rgba(212, 175, 55, 0.1); }
        .txt-green { color: var(--green); }
        .txt-gold { color: var(--gold); font-weight: bold; }

        /* HIDDEN CALCULATOR */
        #finalCalculator {
            display: none; /* Hidden by default */
            background: linear-gradient(135deg, #1e2a38, #121212);
            border: 2px solid var(--gold);
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            animation: fadeIn 1s ease;
        }
        
        #finalCalculator h2 { color: var(--gold); font-size: 2rem; margin-bottom: 10px; }
        .calc-input-group { margin: 20px 0; display: flex; justify-content: center; gap: 10px; align-items: center; }
        .calc-input-group input { padding: 10px; background: #333; border: 1px solid #555; color: white; border-radius: 5px; width: 100px; text-align: center; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* Notification Badge Logic */
        .badge { padding: 3px 8px; border-radius: 4px; font-size: 0.7em; font-weight: bold; margin-left: 5px; display: inline-block;}
        .bg-gold { background: var(--gold); color: black; }
        .bg-blue { background: var(--blue); color: white; }
    </style>
</head>
<body>

<div class="container">
    <header>
        <div class="logo">DVTEAM / OPALP</div>
        <div class="sub-logo">Professional Trading Simulation & Roadmap</div>
    </header>

    <div style="display: flex; gap: 10px; justify-content: center; margin-bottom: 10px;">
        <input type="number" id="startBal" value="100" style="background:#333; border:1px solid #444; color:#888; padding:5px; width:60px; text-align:center; border-radius:4px;" title="Saldo Awal">
        <input type="number" id="kurs" value="15500" style="background:#333; border:1px solid #444; color:#888; padding:5px; width:80px; text-align:center; border-radius:4px;" title="Kurs IDR">
        <button onclick="resetSim()" style="background:#444; color:white; border:none; padding:5px 10px; border-radius:4px; cursor:pointer;">Reset</button>
    </div>

    <div class="dashboard">
        <div class="stat-card">
            <div class="stat-label">Hari Ke-</div>
            <div class="stat-value" id="dispDay">0</div>
            <div class="stat-sub">Target: 30 Hari</div>
        </div>
        <div class="stat-card">
            <div class="stat-label">Saldo Akun (USDT)</div>
            <div class="stat-value txt-gold" id="dispBalance">100.00</div>
            <div class="stat-sub" id="dispIdr">Rp 1.550.000</div>
        </div>
        <div class="stat-card">
            <div class="stat-label">Status Tim</div>
            <div class="stat-value" id="dispTeam">0 Orang</div>
            <div class="stat-sub" id="dispLevel">Member</div>
        </div>
        <div class="stat-card">
            <div class="stat-label">Sinyal Aktif</div>
            <div class="stat-value" id="dispSignal">2</div>
            <div class="stat-sub" style="color:var(--blue)">Sinyal / Hari</div>
        </div>
    </div>

    <div class="action-area" id="actionArea">
        <h2 id="missionTitle" style="margin:0; color:white;">MULAI SIMULASI</h2>
        <div class="log-display" id="missionDesc">Klik tombol di bawah untuk memulai perjalanan trading Anda.</div>
        
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>

        <button id="actionBtn" onclick="nextDay()">LAKUKAN MISI HARI 1</button>
    </div>

    <div id="finalCalculator">
        <h2>ðŸŽ‰ SELAMAT! VIP 2 TERCAPAI</h2>
        <p>Anda kini memiliki 30 Anggota Tim & Sinyal ke-3 <strong>PERMANEN</strong>.</p>
        <hr style="border-color:#333; margin: 20px 0;">
        
        <h3>Kalkulator Compound Permanen</h3>
        <p>Mari hitung potensi saldo Anda setelah roadmap selesai.</p>
        
        <div class="calc-input-group">
            <label>Lanjutkan Trading selama</label>
            <input type="number" id="calcDays" value="60"> 
            <label>Hari lagi (3 Sinyal/hari)</label>
        </div>
        
        <button id="actionBtn" onclick="calculateFinalProjection()" style="font-size: 1rem; padding: 10px 30px;">HITUNG HASIL AKHIR</button>

        <div style="margin-top: 30px;">
            <div style="font-size: 1rem; color:#888;">Estimasi Saldo Akhir:</div>
            <div style="font-size: 3rem; color:var(--gold); font-weight:bold;" id="calcResultUSDT">0.00 USDT</div>
            <div style="font-size: 1.5rem; color:var(--green);" id="calcResultIDR">Rp 0</div>
        </div>
    </div>

    <div class="history-box">
        <h3>Riwayat Aktivitas</h3>
        <table>
            <thead>
                <tr>
                    <th width="10%">Hari</th>
                    <th width="40%">Aktivitas & Kejadian</th>
                    <th width="15%">Sinyal</th>
                    <th width="35%" style="text-align:right">Saldo Akhir</th>
                </tr>
            </thead>
            <tbody id="logTable">
                </tbody>
        </table>
    </div>
</div>

<script>
    // KONFIGURASI
    let currentDay = 0;
    let balance = 100;
    let profitPerSignal = 0.0085; // 0.85%
    let signals = 2;
    let teamCount = 0;
    let maxDays = 30;
    let userLevel = "Member";
    
    // DATA EVENT (Skenario)
    const events = {
        1: { act: "Mengajak 1 Orang", msg: "Memulai langkah awal membangun tim.", bonus: 0 },
        2: { act: "Mengajak 1 Orang", msg: "Konsistensi adalah kunci.", bonus: 0 },
        3: { act: "Mengajak 1 Orang", msg: "Tim mulai tumbuh.", bonus: 0 },
        4: { act: "Mengajak 1 Orang", msg: "Satu langkah lagi menuju VIP 1.", bonus: 0 },
        5: { act: "Mengajak 1 Orang (Total 5)", msg: "SELAMAT! Anda naik VIP 1. Bonus $70 cair!", bonus: 70, tag: "VIP 1", setSig: 3 },
        
        // Fase Menikmati VIP 1 (Hari 6-10)
        6: { act: "Trading VIP 1", msg: "Menikmati 3 Sinyal (Hari 1/5)", bonus: 0 },
        7: { act: "Trading VIP 1", msg: "Menikmati 3 Sinyal (Hari 2/5)", bonus: 0 },
        8: { act: "Trading VIP 1", msg: "Menikmati 3 Sinyal (Hari 3/5)", bonus: 0 },
        9: { act: "Trading VIP 1", msg: "Menikmati 3 Sinyal (Hari 4/5)", bonus: 0 },
        10: { act: "Bantu Si A jadi VIP 1", msg: "Si A Sukses! Sinyal 3 diperpanjang 5 hari.", bonus: 0, tag: "Bantu A", setSig: 3 },

        // Fase Bantu Si A (Hari 11-15)
        11: { act: "Efek Si A", msg: "Trading 3 Sinyal (Hari 1/5)", bonus: 0 },
        12: { act: "Efek Si A", msg: "Trading 3 Sinyal (Hari 2/5)", bonus: 0 },
        13: { act: "Efek Si A", msg: "Trading 3 Sinyal (Hari 3/5)", bonus: 0 },
        14: { act: "Efek Si A", msg: "Trading 3 Sinyal (Hari 4/5)", bonus: 0 },
        15: { act: "Bantu Si B jadi VIP 1", msg: "Si B Sukses! Sinyal 3 diperpanjang 5 hari.", bonus: 0, tag: "Bantu B", setSig: 3 },

        // Fase Bantu Si B (Hari 16-20) - *Koreksi dari prompt: Anda minta hari 16 turun jadi 2 sinyal dulu*
        // Mari kita buat dramatis: Di awal hari 16, benefit habis. Di akhir hari 20, baru naik lagi.
        16: { act: "Masa Benefit Habis", msg: "Waduh! Belum bantu Si C, sinyal turun ke 2.", bonus: 0, tag: "Turun Level", setSig: 2 },
        17: { act: "Mengejar Target", msg: "Fokus membina Si C agar naik VIP.", bonus: 0 },
        18: { act: "Mengejar Target", msg: "Fokus membina Si C agar naik VIP.", bonus: 0 },
        19: { act: "Mengejar Target", msg: "Fokus membina Si C agar naik VIP.", bonus: 0 },
        20: { act: "Bantu Si C jadi VIP 1", msg: "AKHIRNYA! Si C naik VIP. Besok Sinyal 3 kembali!", bonus: 0, tag: "Bantu C", setSig: 3 }, // Set 3 for next day

        // Fase Bantu Si C (Hari 21-25)
        21: { act: "Efek Si C", msg: "Sinyal 3 Kembali Aktif (Hari 1/5)", bonus: 0 },
        22: { act: "Efek Si C", msg: "Sinyal 3 Kembali Aktif (Hari 2/5)", bonus: 0 },
        23: { act: "Efek Si C", msg: "Sinyal 3 Kembali Aktif (Hari 3/5)", bonus: 0 },
        24: { act: "Efek Si C", msg: "Sinyal 3 Kembali Aktif (Hari 4/5)", bonus: 0 },
        25: { act: "Bantu Si D jadi VIP 1", msg: "Si D Sukses! Perpanjangan Sinyal.", bonus: 0, tag: "Bantu D", setSig: 3 },

        // Fase Akhir (Hari 26-30)
        26: { act: "Efek Si D", msg: "Menuju VIP 2 (Hari 1/5)", bonus: 0 },
        27: { act: "Efek Si D", msg: "Menuju VIP 2 (Hari 2/5)", bonus: 0 },
        28: { act: "Efek Si D", msg: "Menuju VIP 2 (Hari 3/5)", bonus: 0 },
        29: { act: "Efek Si D", msg: "Menuju VIP 2 (Hari 4/5)", bonus: 0 },
        30: { act: "Bantu Si E jadi VIP 1", msg: "SEMPURNA! 5 Leader VIP 1. Anda naik VIP 2.", bonus: 100, tag: "VIP 2", setSig: 3 }
    };

    function formatMoney(num, type="USDT") {
        if(type === "IDR") {
            return "Rp " + num.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ".");
        }
        return parseFloat(num).toFixed(2);
    }

    function updateUI() {
        const kurs = document.getElementById('kurs').value;
        
        document.getElementById('dispDay').innerText = currentDay;
        document.getElementById('dispBalance').innerText = formatMoney(balance);
        document.getElementById('dispIdr').innerText = formatMoney(balance * kurs, "IDR");
        document.getElementById('dispSignal').innerText = signals;
        document.getElementById('dispTeam').innerText = teamCount + " Orang";
        document.getElementById('dispLevel').innerText = userLevel;

        // Progress Bar
        let pct = (currentDay / maxDays) * 100;
        document.getElementById('progressBar').style.width = pct + "%";

        // Button Text
        if (currentDay < maxDays) {
            document.getElementById('actionBtn').innerText = `JALANKAN MISI HARI ${currentDay + 1}`;
        } else {
            document.getElementById('actionBtn').innerText = "MISI SELESAI";
            document.getElementById('actionBtn').disabled = true;
            document.getElementById('actionArea').style.display = 'none'; // Hide action area
            document.getElementById('finalCalculator').style.display = 'block'; // Show calculator
        }
    }

    function nextDay() {
        if(currentDay >= maxDays) return;

        currentDay++;
        let evt = events[currentDay];
        
        // 1. Logic Update
        // Update Team Count (Asumsi +1 tiap hari di awal, atau statis setelah tim terbentuk)
        if(currentDay <= 5) teamCount++; // Hari 1-5 nambah sendiri
        else if (currentDay % 5 === 0) teamCount += 5; // Asumsi pertumbuhan tim pesat saat downline naik VIP
        else teamCount++; // Pertumbuhan organik

        // Update Level
        if(currentDay === 5) userLevel = "VIP 1";
        if(currentDay === 30) userLevel = "VIP 2 (Legend)";

        // Set Signal for TODAY's trading based on previous day state or event override
        // Tapi di sistem ini, kita set sinyal sesuai event "setSig" untuk digunakan HARI INI atau BESOK.
        // Mari kita simplifikasi: Gunakan `signals` saat ini untuk hitung profit, LALU update `signals` baru jika ada event.
        
        // Pengecualian Logika Hari 16: Di awal hari 16, sinyal turun ke 2 DULU baru trading.
        if(evt.setSig === 2) signals = 2; 

        // 2. Hitung Profit Trading
        let dailyProfit = 0;
        let startBal = balance;
        
        // Compound intra-day (per sinyal)
        for(let i=0; i<signals; i++) {
            balance = balance + (balance * profitPerSignal);
        }
        dailyProfit = balance - startBal;

        // 3. Tambah Bonus Cash
        if(evt.bonus > 0) {
            balance += evt.bonus;
        }

        // Update Signal for NEXT day if event upgrades it
        if(evt.setSig === 3) signals = 3;

        // 4. Update UI Messages
        document.getElementById('missionTitle').innerText = `HARI ${currentDay} SELESAI`;
        document.getElementById('missionDesc').innerHTML = `<span style='color:var(--green)'>Profit: +${formatMoney(dailyProfit)} USDT</span> | ${evt.msg}`;

        // 5. Log Table
        let bonusBadge = evt.bonus > 0 ? `<span class='badge bg-gold'>+${evt.bonus} Bonus</span>` : '';
        let tagBadge = evt.tag ? `<span class='badge bg-blue'>${evt.tag}</span>` : '';
        
        let row = `
            <tr class="row-highlight" style="animation: fadeIn 0.5s">
                <td class="txt-gold">${currentDay}</td>
                <td>
                    <div>${evt.act} ${tagBadge}</div>
                    <small style="color:#666">${evt.msg}</small>
                </td>
                <td style="text-align:center">${signals === 3 ? '<span style="color:var(--green)">3 Sinyal</span>' : '<span style="color:var(--red)">2 Sinyal</span>'}</td>
                <td style="text-align:right">
                    ${bonusBadge}
                    <div class="txt-gold">${formatMoney(balance)}</div>
                </td>
            </tr>
        `;
        
        // Insert at top
        let tbody = document.getElementById('logTable');
        tbody.insertAdjacentHTML('afterbegin', row);

        updateUI();
    }

    function calculateFinalProjection() {
        let days = parseFloat(document.getElementById('calcDays').value);
        let finalBal = balance;
        let kurs = document.getElementById('kurs').value;

        // Rumus: Saldo Akhir * (1 + profit)^jumlah_transaksi
        // 3 Sinyal per hari
        let totalTx = days * 3;
        
        finalBal = finalBal * Math.pow((1 + profitPerSignal), totalTx);

        document.getElementById('calcResultUSDT').innerText = formatMoney(finalBal) + " USDT";
        document.getElementById('calcResultIDR').innerText = formatMoney(finalBal * kurs, "IDR");
    }

    function resetSim() {
        currentDay = 0;
        balance = parseFloat(document.getElementById('startBal').value);
        signals = 2;
        teamCount = 0;
        userLevel = "Member";
        document.getElementById('logTable').innerHTML = "";
        document.getElementById('actionArea').style.display = 'block';
        document.getElementById('finalCalculator').style.display = 'none';
        document.getElementById('actionBtn').disabled = false;
        document.getElementById('progressBar').style.width = "0%";
        updateUI();
    }

    // Init
    updateUI();

</script>

</body>
</html>
